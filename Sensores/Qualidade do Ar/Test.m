% Script para plotar Índice de Qualidade do Ar
% x = número da amostra (intervalo de 30 s)
% y = valor do índice de qualidade do ar

% --- 1) Cole aqui a string com todos os pares (pode usar a tua linha original) ---
data_str = [...
    '( 0 , 253.02 )( 1 , 26.39 )( 2 , 0.03 )( 3 , 85.13 )( 4 , 55.73 )' ...
    '( 5 , 104.41 )( 6 , 90.34 )( 7 , 112.78 )( 8 , 107.89 )( 9 , 100.71 )' ...
    '( 10 , 79.61 )( 11 , 126.30 )( 12 , 116.85 )( 13 , 146.04 )( 14 , 116.84 )' ...
    '( 15 , 97.42 )( 16 , 106.92 )( 17 , 141.63 )( 18 , 110.21 )( 19 , 102.72 )' ...
    '( 20 , 95.53 )( 21 , 78.06 )( 22 , 81.64 )( 23 , 116.32 )( 24 , 108.89 )' ...
    '( 25 , 108.08 )( 26 , 53.12 )( 27 , 98.12 )( 28 , 65.69 )( 29 , 93.22 )' ...
    '( 30 , 106.61 )( 31 , 96.05 )( 32 , 61.30 )( 33 , 93.60 )( 34 , 124.33 )' ...
    '( 35 , 126.01 )( 36 , 111.72 )( 37 , 146.18 )( 38 , 91.35 )( 39 , 73.38 )' ...
    '( 40 , 96.29 )( 41 , 81.93 )( 42 , 125.90 )( 43 , 99.20 )( 44 , 128.54 )' ...
    '( 45 , 75.97 )( 46 , 89.98 )( 47 , 163.70 )( 48 , 166.81 )( 49 , 62.76 )' ...
    '( 50 , 99.87 )( 51 , 123.78 )( 52 , 160.74 )( 53 , 170.98 )( 54 , 155.70 )' ...
    '( 55 , 137.81 )( 56 , 146.09 )( 57 , 174.35 )( 58 , 99.51 )( 59 , 110.66 )' ...
    '( 60 , 158.25 )( 61 , 141.60 )( 62 , 129.22 )( 63 , 77.31 )( 64 , 145.96 )' ...
    '( 65 , 139.74 )( 66 , 97.61 )( 67 , 153.33 )( 68 , 89.43 )( 69 , 147.18 )' ...
    '( 70 , 108.23 )( 71 , 77.49 )( 72 , 69.04 )( 73 , 58.35 )( 74 , 55.17 )' ...
    '( 75 , 60.93 )( 76 , 43.11 )( 77 , 8.86 )( 78 , 27.12 )( 79 , 27.75 )' ...
    '( 80 , 21.30 )( 81 , 8.28 )( 82 , 24.13 )( 83 , 7.79 )( 84 , 31.54 )' ...
    '( 85 , 0.03 )( 86 , 11.76 )( 87 , 7.38 )( 88 , 5.83 )( 89 , 11.20 )' ...
    '( 90 , 14.40 )( 91 , 12.72 )( 92 , 10.46 )( 93 , 4.84 )( 94 , 0.03 )' ...
    '( 95 , 11.70 )( 96 , 0.03 )( 97 , 3.52 )( 98 , 0.03 )( 99 , 1.23 )' ...
    '( 100 , 0.70 )( 101 , 3.71 )( 102 , 0.03 )( 103 , 2.78 )( 104 , 4.71 )' ...
    '( 105 , 6.66 )( 106 , 5.84 )( 107 , 0.03 )( 108 , 0.03 )( 109 , 0.03 )' ...
    '( 110 , 1.56 )( 111 , 0.03 )( 112 , 0.80 )( 113 , 0.03 )( 114 , 0.03 )' ...
    '( 115 , 1.17 )( 116 , 0.03 )( 117 , 4.29 )( 118 , 0.03 )( 119 , 0.03 )' ...
    '( 120 , 3.80 )( 121 , 3.46 )( 122 , 0.03 )( 123 , 3.67 )( 124 , 0.03 )' ...
    '( 125 , 10.74 )( 126 , 0.03 )( 127 , 0.03 )( 128 , 0.03 )( 129 , 0.03 )' ...
    '( 130 , 1.74 )( 131 , 0.03 )( 132 , 0.03 )( 133 , 0.03 )( 134 , 4.10 )' ...
    '( 135 , 3.30 )( 136 , 1.58 )( 137 , 0.03 )( 138 , 3.68 )( 139 , 2.00 )' ...
    '( 140 , 5.63 )( 141 , 0.77 )( 142 , 0.03 )( 143 , 4.49 )( 144 , 7.24 )' ...
    '( 145 , 0.03 )( 146 , 0.03 )( 147 , 1.60 )( 148 , 0.03 )( 149 , 0.03 )' ...
    '( 150 , 2.61 )( 151 , 0.03 )( 152 , 0.03 )( 153 , 2.72 )( 154 , 12.20 )' ...
    '( 155 , 12.38 )( 156 , 9.97 )( 157 , 11.62 )( 158 , 13.48 )( 159 , 12.90 )' ...
    '( 160 , 0.03 )( 161 , 6.95 )( 162 , 0.03 )( 163 , 5.34 )( 164 , 3.20 )' ...
    '( 165 , 8.76 )( 166 , 2.49 )( 167 , 0.03 )( 168 , 5.40 )( 169 , 15.81 )' ...
    '( 170 , 1.80 )( 171 , 3.18 )( 172 , 0.03 )( 173 , 8.59 )( 174 , 8.80 )' ...
    '( 175 , 0.03 )( 176 , 0.03 )( 177 , 0.03 )( 178 , 0.03 )( 179 , 2.33 )' ...
    '( 180 , 0.72 )' ];

% --- 2) Extrai as coordenadas x e y usando expressão regular ---
tokens = regexp(data_str, '\(\s*(\d+)\s*,\s*([\d\.]+)\s*\)', 'tokens');
x = cellfun(@(c) str2double(c{1}), tokens);  % nº amostras
y = cellfun(@(c) str2double(c{2}), tokens);  % índice de qualidade do ar

% --- 3) Converte nº de amostra em tempo (segundos) ---
t = x * 30;  % cada amostra a cada 30 s

% --- 4) Plota o gráfico ---
% — depois de calcualar t e y e antes do plot
figure;
plot(t, y, '-o', 'LineWidth', 1.2, 'MarkerSize', 4);
grid on;

% Definir fontes maiores
fs_title  = 18;   % tamanho do título
fs_label  = 16;   % tamanho dos eixos
fs_axis   = 14;   % tamanho dos números dos eixos
fs_leg    = 14;   % tamanho da legenda

% Título e rótulos
title('Variação do Índice de Qualidade do Ar ao Longo do Tempo', ...
      'FontSize', fs_title, 'FontWeight', 'bold');
xlabel('Tempo (s)', 'FontSize', fs_label);
ylabel('Índice de Qualidade do Ar', 'FontSize', fs_label);

% Ajustar tamanho dos números dos eixos
set(gca, 'FontSize', fs_axis);

% Adicionar legenda (se quiser)
legend('Medições de IQA', 'FontSize', fs_leg, 'Location', 'best');